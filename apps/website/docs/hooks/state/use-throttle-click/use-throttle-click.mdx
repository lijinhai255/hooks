# useThrottleClick

é˜²æŠ–ç‚¹å‡» Hookï¼Œé˜²æ­¢æŒ‰é’®åœ¨çŸ­æ—¶é—´å†…è¢«å¤šæ¬¡ç‚¹å‡»ã€‚

## ä»£ç æ¼”ç¤º

import UseThrottleClickDemo from './components/UseThrottleClick'

<UseThrottleClickDemo />

## API

### å‚æ•°

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
| --- | --- | --- | --- |
| callback | `(...args: T) => void` | - | ç‚¹å‡»æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•° |
| delay | `number` | `500` | èŠ‚æµå»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ |

### è¿”å›å€¼

è¿”å›ä¸€ä¸ªå…ƒç»„ï¼š
- **throttledCallback** - èŠ‚æµåçš„å›è°ƒå‡½æ•°
- **isLoading** - æ˜¯å¦å¤„äºèŠ‚æµç­‰å¾…ä¸­

## ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ç”¨æ³•

```tsx
import { useThrottleClick } from '@miaoma-rhooks/hooks'

function SubmitButton() {
  const [handleClick, isLoading] = useThrottleClick(() => {
    console.log('æäº¤')
  }, 1000)

  return (
    <button onClick={handleClick} disabled={isLoading}>
      {isLoading ? 'æäº¤ä¸­...' : 'æäº¤'}
    </button>
  )
}
```

### å¸¦å‚æ•°çš„å›è°ƒ

```tsx
import { useThrottleClick } from '@miaoma-rhooks/hooks'

function LikeButton({ postId }: { postId: string }) {
  const [handleLike, isLiking] = useThrottleClick((id: string) => {
    fetch(`/api/like/${id}`)
  }, 2000)

  return (
    <button onClick={() => handleLike(postId)} disabled={isLiking}>
      {isLiking ? 'ç‚¹èµä¸­...' : 'ğŸ‘ ç‚¹èµ'}
    </button>
  )
}
```

### å¼‚æ­¥æ“ä½œ

```tsx
import { useThrottleClick } from '@miaoma-rhooks/hooks'

function AsyncButton() {
  const [handleFetch, isLoading] = useThrottleClick(async () => {
    const response = await fetch('/api/data')
    const data = await response.json()
    console.log(data)
  }, 1000)

  return (
    <button onClick={handleFetch} disabled={isLoading}>
      {isLoading ? 'åŠ è½½ä¸­...' : 'è·å–æ•°æ®'}
    </button>
  )
}
```

## å·¥ä½œåŸç†

1. é¦–æ¬¡ç‚¹å‡»ç«‹å³æ‰§è¡Œå›è°ƒ
2. åœ¨å»¶è¿Ÿæ—¶é—´å†…çš„åç»­ç‚¹å‡»è¢«å¿½ç•¥
3. å»¶è¿Ÿç»“æŸåè‡ªåŠ¨é‡ç½®çŠ¶æ€

## æ³¨æ„äº‹é¡¹

- å§‹ç»ˆä½¿ç”¨ `isLoading` ç¦ç”¨æŒ‰é’®
- æ ¹æ®æ“ä½œç±»å‹é€‰æ‹©åˆé€‚çš„å»¶è¿Ÿæ—¶é—´
- å¿«é€Ÿæ“ä½œï¼š300-500ms
- æ™®é€šæ“ä½œï¼š500-1000ms
- æ…¢é€Ÿæ“ä½œï¼š1000-3000ms

## æœ€ä½³å®è·µ

```tsx
// âœ… æ¨èåšæ³•
const [handleClick, isLoading] = useThrottleClick(callback, 1000)
<button onClick={handleClick} disabled={isLoading}>
  {isLoading ? 'å¤„ç†ä¸­...' : 'ç‚¹å‡»'}
</button>

// âŒ ä¸æ¨èåšæ³•
<button onClick={handleClick}>  // æ²¡æœ‰ disabled
  ç‚¹å‡»
</button>
```
